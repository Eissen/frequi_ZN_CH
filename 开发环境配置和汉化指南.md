# FreqUI æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®å’Œæ±‰åŒ–æŒ‡å—

## âœ… å·²å®Œæˆçš„å·¥ä½œ

1. âœ… å…‹éš†äº† frequi ä»“åº“åˆ° `/home/ec2-user/frequi`
2. âœ… å®‰è£…äº† Node.js 20.19.5
3. âœ… å®‰è£…äº† pnpm 10.22.0
4. âœ… é…ç½®äº† freqtrade API çš„ CORS è®¾ç½®ï¼ˆå·²æ·»åŠ åˆ° config.jsonï¼‰
5. âœ… å®‰è£…äº†æ‰€æœ‰é¡¹ç›®ä¾èµ–

## ğŸš€ å¦‚ä½•å¯åŠ¨å¼€å‘æœåŠ¡å™¨

### 1. ç¡®ä¿ freqtrade æ­£åœ¨è¿è¡Œ

ç¡®ä¿ä½ çš„ freqtrade å®¹å™¨æ­£åœ¨è¿è¡Œï¼Œå¹¶ä¸” API æœåŠ¡å™¨åœ¨ `localhost:8080` ä¸Šç›‘å¬ï¼š

```bash
# æ£€æŸ¥ freqtrade å®¹å™¨çŠ¶æ€
docker ps | grep freqtrade

# å¦‚æœæ²¡æœ‰è¿è¡Œï¼Œå¯åŠ¨å®ƒ
cd /home/ec2-user/ft_userdata
docker compose up -d
```

### 2. å¯åŠ¨ FreqUI å¼€å‘æœåŠ¡å™¨

```bash
cd /home/ec2-user/frequi
source ~/.bashrc  # ç¡®ä¿ pnpm åœ¨ PATH ä¸­
pnpm run dev
```

å¼€å‘æœåŠ¡å™¨å°†åœ¨ `http://127.0.0.1:3000` å¯åŠ¨ã€‚

### 3. è®¿é—®ç•Œé¢

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼š`http://127.0.0.1:3000` æˆ– `http://localhost:3000`

## ğŸ“ é¡¹ç›®ç»“æ„è¯´æ˜

```
frequi/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/        # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ftbot/        # äº¤æ˜“æœºå™¨äººç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ charts/       # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ general/      # é€šç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ layout/       # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ views/            # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ stores/           # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/            # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ public/               # é™æ€èµ„æº
â””â”€â”€ package.json          # é¡¹ç›®é…ç½®
```

## ğŸŒ æ±‰åŒ–æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šç›´æ¥ä¿®æ”¹æ–‡æœ¬ï¼ˆç®€å•å¿«é€Ÿï¼‰

**ä¼˜ç‚¹ï¼š** ç®€å•ç›´æ¥ï¼Œä¸éœ€è¦é¢å¤–é…ç½®  
**ç¼ºç‚¹ï¼š** ç»´æŠ¤å›°éš¾ï¼Œå¦‚æœæ›´æ–°ä»£ç ä¼šä¸¢å¤±ä¿®æ”¹

**æ­¥éª¤ï¼š**

1. æ‰¾åˆ°éœ€è¦æ±‰åŒ–çš„ç»„ä»¶æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š
   - `/home/ec2-user/frequi/src/components/ftbot/BotControls.vue`
   - `/home/ec2-user/frequi/src/views/DashboardView.vue`
   - ç­‰ç­‰...

2. ç›´æ¥ä¿®æ”¹ç»„ä»¶ä¸­çš„æ–‡æœ¬å­—ç¬¦ä¸²ï¼š

```vue
<!-- ä¿®æ”¹å‰ -->
title: 'Stop Bot',
message: 'Stop the bot loop from running?',

<!-- ä¿®æ”¹å -->
title: 'åœæ­¢æœºå™¨äºº',
message: 'ç¡®å®šè¦åœæ­¢æœºå™¨äººè¿è¡Œå—ï¼Ÿ',
```

3. ä¿å­˜æ–‡ä»¶ï¼Œå¼€å‘æœåŠ¡å™¨ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½ï¼ˆçƒ­é‡è½½ï¼‰

### æ–¹æ¡ˆäºŒï¼šæ·»åŠ  i18n å›½é™…åŒ–æ”¯æŒï¼ˆæ¨èï¼Œä¸“ä¸šæ–¹æ¡ˆï¼‰

**ä¼˜ç‚¹ï¼š** æ˜“äºç»´æŠ¤ï¼Œæ”¯æŒå¤šè¯­è¨€åˆ‡æ¢ï¼Œä»£ç æ›´è§„èŒƒ  
**ç¼ºç‚¹ï¼š** éœ€è¦æ›´å¤šåˆå§‹å·¥ä½œ

**æ­¥éª¤ï¼š**

1. å®‰è£… vue-i18nï¼š

```bash
cd /home/ec2-user/frequi
pnpm add vue-i18n@9
```

2. åˆ›å»ºè¯­è¨€æ–‡ä»¶ç›®å½•ç»“æ„ï¼š

```bash
mkdir -p src/locales/zh-CN
mkdir -p src/locales/en-US
```

3. åˆ›å»ºè¯­è¨€æ–‡ä»¶ç¤ºä¾‹ï¼ˆ`src/locales/zh-CN/index.ts`ï¼‰ï¼š

```typescript
export default {
  bot: {
    controls: {
      start: 'å¼€å§‹äº¤æ˜“',
      stop: 'åœæ­¢äº¤æ˜“',
      pause: 'æš‚åœï¼ˆåœæ­¢ä¹°å…¥ï¼‰',
      reload: 'é‡æ–°åŠ è½½é…ç½®',
      forceExit: 'å¼ºåˆ¶å¹³ä»“æ‰€æœ‰',
      forceEnter: 'å¼ºåˆ¶å…¥åœº',
    },
    messages: {
      stopBot: {
        title: 'åœæ­¢æœºå™¨äºº',
        message: 'ç¡®å®šè¦åœæ­¢æœºå™¨äººè¿è¡Œå—ï¼Ÿ',
      },
      pause: {
        title: 'æš‚åœ - åœæ­¢å…¥åœº',
        message: 'Freqtrade å°†ç»§ç»­å¤„ç†å·²å¼€ä»“çš„äº¤æ˜“ï¼Œä½†ä¸ä¼šå¼€æ–°ä»“æˆ–å¢åŠ ä»“ä½ã€‚',
      },
    },
  },
};
```

4. é…ç½® i18nï¼ˆåœ¨ `src/main.ts` æˆ–åˆ›å»º `src/plugins/i18n.ts`ï¼‰

5. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š

```vue
<script setup lang="ts">
import { useI18n } from 'vue-i18n';

const { t } = useI18n();
</script>

<template>
  <Button :title="t('bot.controls.start')">
    {{ t('bot.controls.start') }}
  </Button>
</template>
```

## ğŸ” æŸ¥æ‰¾éœ€è¦æ±‰åŒ–çš„æ–‡æœ¬

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ grep æœç´¢

```bash
# æœç´¢æ‰€æœ‰åŒ…å«è‹±æ–‡æ–‡æœ¬çš„ç»„ä»¶
cd /home/ec2-user/frequi
grep -r "title\|label\|placeholder\|message" src/components/ --include="*.vue" | grep -E "[A-Z][a-z]+"
```

### æ–¹æ³•äºŒï¼šæŒ‰åŠŸèƒ½æ¨¡å—æŸ¥æ‰¾

ä¸»è¦éœ€è¦æ±‰åŒ–çš„æ–‡ä»¶ï¼š

1. **æœºå™¨äººæ§åˆ¶ç»„ä»¶ï¼š**
   - `src/components/ftbot/BotControls.vue`
   - `src/components/ftbot/BotStatus.vue`
   - `src/components/ftbot/BotProfit.vue`

2. **äº¤æ˜“ç›¸å…³ç»„ä»¶ï¼š**
   - `src/components/ftbot/TradeList.vue`
   - `src/components/ftbot/TradeDetail.vue`
   - `src/components/ftbot/TradeActions.vue`

3. **è§†å›¾é¡µé¢ï¼š**
   - `src/views/DashboardView.vue`
   - `src/views/TradingView.vue`
   - `src/views/BacktestingView.vue`
   - `src/views/SettingsView.vue`

4. **è¡¨å•ç»„ä»¶ï¼š**
   - `src/components/ftbot/ForceEntryForm.vue`
   - `src/components/ftbot/ForceExitForm.vue`

## ğŸ› ï¸ å¸¸ç”¨å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå¸¦çƒ­é‡è½½ï¼‰
pnpm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm run build

# ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–
pnpm run lint

# ç±»å‹æ£€æŸ¥
pnpm run typecheck

# è¿è¡Œæµ‹è¯•
pnpm run test:unit
```

## ğŸ“¦ æ„å»ºç”Ÿäº§ç‰ˆæœ¬

å¦‚æœéœ€è¦æ„å»ºç”Ÿäº§ç‰ˆæœ¬å¹¶éƒ¨ç½²ï¼š

```bash
cd /home/ec2-user/frequi
pnpm run build
```

æ„å»ºäº§ç‰©ä¼šåœ¨ `dist/` ç›®å½•ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ nginx æˆ–å…¶ä»– Web æœåŠ¡å™¨éƒ¨ç½²ã€‚

## âš™ï¸ é…ç½®è¯´æ˜

### Vite å¼€å‘æœåŠ¡å™¨é…ç½®

å¼€å‘æœåŠ¡å™¨é…ç½®åœ¨ `vite.config.ts` ä¸­ï¼š

- **ç«¯å£ï¼š** 3000
- **ä»£ç†ï¼š** `/api` è¯·æ±‚ä¼šè¢«ä»£ç†åˆ° `http://127.0.0.1:8080`
- **ä¸»æœºï¼š** 127.0.0.1ï¼ˆä»…æœ¬åœ°è®¿é—®ï¼‰

å¦‚æœéœ€è¦ä»å…¶ä»–æœºå™¨è®¿é—®ï¼Œå¯ä»¥ä¿®æ”¹ `vite.config.ts`ï¼š

```typescript
server: {
  host: '0.0.0.0',  // å…è®¸å¤–éƒ¨è®¿é—®
  port: 3000,
}
```

### CORS é…ç½®

å·²åœ¨ `/home/ec2-user/ft_userdata/user_data/config.json` ä¸­é…ç½®ï¼š

```json
"CORS_origins": ["http://localhost:3000", "http://127.0.0.1:3000"]
```

å¦‚æœä¿®æ”¹äº†ç«¯å£æˆ–ä½¿ç”¨å¤–éƒ¨è®¿é—®ï¼Œéœ€è¦ç›¸åº”æ›´æ–° CORS é…ç½®ã€‚

## ğŸ¯ æ±‰åŒ–å»ºè®®

1. **ä¼˜å…ˆæ±‰åŒ–å¸¸ç”¨åŠŸèƒ½ï¼š**
   - æœºå™¨äººæ§åˆ¶æŒ‰é’®
   - äº¤æ˜“åˆ—è¡¨å’Œè¯¦æƒ…
   - ä»ªè¡¨æ¿ä¸»è¦ä¿¡æ¯
   - è®¾ç½®é¡µé¢

2. **ä¿æŒæœ¯è¯­ä¸€è‡´æ€§ï¼š**
   - ç»Ÿä¸€ä½¿ç”¨"äº¤æ˜“"è€Œä¸æ˜¯"ä¹°å–"
   - ç»Ÿä¸€ä½¿ç”¨"æœºå™¨äºº"è€Œä¸æ˜¯"bot"
   - ç»Ÿä¸€ä½¿ç”¨"ç­–ç•¥"è€Œä¸æ˜¯"strategy"

3. **æµ‹è¯•æ±‰åŒ–æ•ˆæœï¼š**
   - æ¯æ¬¡ä¿®æ”¹åæ£€æŸ¥ç•Œé¢æ˜¾ç¤º
   - æ³¨æ„æ–‡æœ¬é•¿åº¦ï¼Œé¿å…UIå¸ƒå±€é—®é¢˜
   - æ£€æŸ¥ç‰¹æ®Šå­—ç¬¦æ˜¾ç¤ºæ˜¯å¦æ­£å¸¸

## ğŸ”„ æ›´æ–°ä»£ç 

å¦‚æœ frequi ä»“åº“æœ‰æ›´æ–°ï¼š

```bash
cd /home/ec2-user/frequi
git pull origin main
pnpm install  # å¦‚æœæœ‰æ–°çš„ä¾èµ–
```

**æ³¨æ„ï¼š** å¦‚æœä½¿ç”¨æ–¹æ¡ˆä¸€ï¼ˆç›´æ¥ä¿®æ”¹æ–‡æœ¬ï¼‰ï¼Œæ›´æ–°ä»£ç å¯èƒ½ä¼šè¦†ç›–ä½ çš„ä¿®æ”¹ã€‚å»ºè®®ï¼š
- ä½¿ç”¨ git åˆ†æ”¯ä¿å­˜ä½ çš„ä¿®æ”¹
- æˆ–è€…ä½¿ç”¨æ–¹æ¡ˆäºŒï¼ˆi18nï¼‰æ›´å®‰å…¨

## ğŸ“š ç›¸å…³èµ„æº

- [FreqUI GitHub](https://github.com/freqtrade/frequi)
- [Vue 3 æ–‡æ¡£](https://vuejs.org/)
- [PrimeVue æ–‡æ¡£](https://primevue.org/)
- [vue-i18n æ–‡æ¡£](https://vue-i18n.intlify.dev/)

## â“ å¸¸è§é—®é¢˜

### Q: å¼€å‘æœåŠ¡å™¨å¯åŠ¨å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ Node.js å’Œ pnpm æ˜¯å¦æ­£ç¡®å®‰è£…ï¼Œç¡®ä¿ freqtrade API åœ¨ 8080 ç«¯å£è¿è¡Œã€‚

### Q: æ— æ³•è¿æ¥åˆ° freqtrade APIï¼Ÿ
A: æ£€æŸ¥ CORS é…ç½®ï¼Œç¡®ä¿ `http://localhost:3000` æˆ– `http://127.0.0.1:3000` åœ¨ CORS_origins ä¸­ã€‚

### Q: ä¿®æ”¹åæ²¡æœ‰ç”Ÿæ•ˆï¼Ÿ
A: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ï¼Œå°è¯•ç¡¬åˆ·æ–°ï¼ˆCtrl+F5ï¼‰æˆ–æ¸…é™¤ç¼“å­˜ã€‚

### Q: å¦‚ä½•ä¿å­˜æˆ‘çš„æ±‰åŒ–ä¿®æ”¹ï¼Ÿ
A: å»ºè®®åˆ›å»º git åˆ†æ”¯ï¼š
```bash
cd /home/ec2-user/frequi
git checkout -b zh-cn-localization
# è¿›è¡Œä¿®æ”¹å
git add .
git commit -m "æ·»åŠ ä¸­æ–‡æ±‰åŒ–"
```

